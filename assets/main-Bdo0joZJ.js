import{i as j,a as J}from"./vendor-BRPE7r0H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".nav-link");let t=window.location.pathname.split("/").pop();t!=="index.html"&&t!=="favorites.html"&&(t="index.html"),e.forEach(s=>{s.getAttribute("href")===t&&s.classList.add("active")})});const v=document.querySelector(".js-header"),O=document.querySelector("main"),N="is-scrolling",Y=e=>{e?v.classList.add(N):v.classList.remove(N)},G=e=>{e?O.style.marginTop=`${v.offsetHeight}px`:O.style.marginTop=0},k=()=>{let e=window.scrollY>v.offsetTop;Y(e),G(e)};document.addEventListener("DOMContentLoaded",()=>{k(),document.addEventListener("scroll",k)});const i=(e,t,s,o)=>{j.show({message:e,drag:!0,close:!1,timeout:5e3,position:"bottomRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:s??"#f4f4f4",title:t??""})};async function W(){try{return await(await fetch("https://your-energy.b.goit.study/api/quote")).json()}catch{return i("Error fetching the quote:","Error âŒ"),null}}function z(e){const t=new Date().toISOString().split("T")[0];localStorage.setItem("dailyQuote",JSON.stringify({quote:e,date:t}))}function X(){const e=localStorage.getItem("dailyQuote");return e?JSON.parse(e):null}async function K(){const e=X(),t=new Date().toISOString().split("T")[0];if(e&&e.date===t)return e.quote;{const s=await W();return s?(z(s),s):e?e.quote:null}}async function V(){const e=await K();if(e){const t=e.quote,s=e.author;document.querySelector(".quote").textContent=t,document.querySelector(".quote-author").textContent=s}}V();const x=()=>JSON.parse(localStorage.getItem("favorites"))||[];function Z(e){if(!e._id){i("Exercise ID is missing.","Error âŒ");return}const t=x();t.find(s=>s._id===e._id)?i("This exercise is already in your favorites.","Error âŒ"):(t.push(e),localStorage.setItem("favorites",JSON.stringify(t)),i("Exercise added to favorites!","Success âœ…"))}function B(e,t){if(!e){i("Exercise ID is missing.","Error âŒ");return}const s=x();if(!s.find(o=>o._id===e))i("This exercise is not in your favorites.","Error âŒ");else{const o=s.filter(n=>n._id!==e);localStorage.setItem("favorites",JSON.stringify(o)),i("Exercise removed from favorites!","Success âœ…"),t&&t()}}const d="https://your-energy.b.goit.study/api",u=async(e,t,s)=>{const r=await fetch(e,{headers:{"Content-type":"application/json"},method:t,body:s});if(!r.ok)throw new Error(`Error: status: ${r.status}, ${r.statusText}`);return r.json()},ee={async getExercises(e){const t=new URLSearchParams(e),s=`${d}/exercises?${t}`;return await u(s)},async getExercisesId(e){const t=`${d}/exercises/${e}`;return await u(t)},async editExercisesIdRating(e,t){const s="PATCH",o=`${d}/exercises/${e}/rating`,n=JSON.stringify(t);return await u(o,s,n)},async getExercisesFilter(e){const t=new URLSearchParams(e),s=`${d}/filters?${t}`;return await u(s)},async getExercisesQuote(){const e=`${d}/quote`;return await u(e)},async addSubscription(e){const t="POST",s=`${d}/subscription`,o=JSON.stringify(e);return await u(s,t,o)}},F=J.create({baseURL:d,headers:{"Content-type":"application/json"}}),m={MUSCLES:"Muscles",BODY_PARTS:"Body parts",EQUIPMENT:"Equipment"},g={EXERCISE:"exercises",CATEGORY:"categories"},D=768;let b=m.MUSCLES,w=null;document.addEventListener("DOMContentLoaded",async()=>{if(document.getElementById("favorites"))I();else{const{categories:t,page:s,totalPages:o}=await C(m.MUSCLES);T(t),f(g.CATEGORY,s,o,m.MUSCLES),te()}});const te=()=>{const e=document.querySelectorAll(".filter-btn");e.forEach(t=>{t.addEventListener("click",async()=>{e.forEach(a=>a.classList.remove("active")),t.classList.add("active");const s=t.getAttribute("data-filter"),{categories:o,page:n,totalPages:r}=await C(s);T(o),f(g.CATEGORY,n,r,s)})})},C=async(e,t=1)=>{const s=window.innerWidth<D?9:12;try{const n=(await F.get("/filters",{params:{filter:e,page:t,limit:s}})).data;return n.results?{categories:n.results,page:Number(n.page),totalPages:Number(n.totalPages)}:{categories:[],page:1,totalPages:1}}catch(o){return i(`Error fetching categories: ${o}`,"Error âŒ"),{categories:[],page:1,totalPages:1}}},q=async(e,t,s=1,o=null)=>{const n=window.innerWidth<D?8:10;try{const a=(await F.get("/exercises",{params:{page:s,limit:n,...e===m.MUSCLES&&{muscles:t},...e===m.BODY_PARTS&&{bodypart:t},...e===m.EQUIPMENT&&{equipment:t},...o&&{keyword:o}}})).data;return a.results?{exercises:a.results,page:Number(a.page),totalPages:Number(a.totalPages)}:{exercises:[],page:1,totalPages:1}}catch(r){return i(`Error fetching categories: ${r}`,"Error âŒ"),{exercises:[],page:1,totalPages:1}}},T=e=>{const t=document.querySelector(".exercises-grid");if(!t)return;if(t.innerHTML="",_(!1),R(!1),e.length===0){t.innerHTML="<p>No categories found.</p>";return}const s=document.createDocumentFragment();e.forEach(o=>{const n=document.createElement("div");n.classList.add("category-card"),n.innerHTML=`
      <img src="${o.imgURL}" alt="${o.name}" />
      <h3>${o.name}</h3>
      <p>${o.filter}</p>
    `,n.addEventListener("click",async()=>{const{exercises:r,page:a,totalPages:c}=await q(o.filter,o.name);b=o.filter,w=o.name,h(r),f(g.EXERCISE,a,c,o.filter)}),s.appendChild(n)}),t.appendChild(s)},se=e=>`
  <div class="rating">
    <span>
      ${e}
    </span>
    <svg class="icon-star">
      <use href="./img/icons/icons.svg#icon-star"></use>
    </svg>
  </div>
`,ne=e=>`
  <button class="trash-btn" data-id="${e}">
    <svg width="16px" height="16px">
      <use href="./img/icons/icons.svg#icon-trash"></use>
    </svg>
  </button>
`,h=(e,t=!1)=>{const s=document.querySelector(".exercises-grid");if(!s)return;if(s.innerHTML="",_(!0),R(!0,w),e.length===0){s.innerHTML="<p>No exercises found.</p>";return}const o=e.map(({bodyPart:n,burnedCalories:r,target:a,name:c,rating:l,_id:p})=>`
    <div class="exercise-card">
      <div class="exercise-card-header">
        <div class="label">WORKOUT</div>
        ${t?ne(p):se(l)}
        <button class="start-btn" data-id="${p}">
          Start
          <svg class="icon-arrow">
            <use href="./img/icons/icons.svg#icon-arrow-start"></use>
          </svg>
        </button>
      </div>
      <div class="title-wrapper">
        <div class="icon-run-exercises">
          <svg class="icon-run">
            <use href="./img/icons/icons.svg#icon-run"></use>
          </svg>
        </div>
        <div class="title">${c}</div>
      </div>
      <div class="details">
        <div class="details-item">
          Burned calories: <span>${r}</span>
        </div>
        <div class="details-item">
          Body part: <span>${n}</span>
        </div>
        <div class="details-item">
          Target:<span>${a}</span>
        </div>
      </div>
    </div>
  `).join(" ");s.insertAdjacentHTML("afterbegin",o),document.querySelectorAll(".exercise-card .start-btn").forEach(n=>{const r=n.getAttribute("data-id");r?n.addEventListener("click",()=>{oe(r)}):i("Exercise ID is missing.","Error âŒ")}),document.querySelectorAll(".trash-btn").forEach(n=>{const r=n.getAttribute("data-id");r?n.addEventListener("click",()=>{B(r,I)}):i("Exercise ID is missing.","Error âŒ")})},f=(e,t,s,o)=>{const n=document.getElementById("pagination");if(!n||(n.innerHTML="",s<=1))return;const r=document.createDocumentFragment();for(let a=1;a<=s;a++){const c=document.createElement("div");c.innerText=a,c.className=a===t?"page current":"page",c.addEventListener("click",async()=>{if(e===g.CATEGORY){const{categories:l}=await C(o,a);T(l),f(e,a,s,o)}else{const{exercises:l}=await q(o,null,a);h(l),f(e,a,s,o)}}),r.appendChild(c)}n.appendChild(r)},I=()=>{const e=document.querySelector(".exercises-grid"),t=x();t.length>0?h(t,!0):e.innerHTML=`<p class="empty-favorites">It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>`},_=e=>{const t=document.getElementById("search-form");t&&(t.style.display=e?"block":"none",e?t.addEventListener("submit",A):t.removeEventListener("submit",A))},A=async e=>{e.preventDefault();const t=document.getElementById("search-input"),s=t.value.trim();if(t.value="",s==="")return;const{exercises:o}=await q(b,w,1,s);h(o),f(g.EXERCISE,1,1,b)},R=(e,t="")=>{const s=document.querySelector(".exercises-header-span"),o=document.querySelector(".exercises-subcategory");!s||!o||(s.style.display=e?"flex":"none",o.textContent=t)};function oe(e,t){fetch(`https://your-energy.b.goit.study/api/exercises/${e}`).then(s=>{if(!s.ok)throw new Error("Failed to fetch exercise details.");return s.json()}).then(s=>{ae(s),ie()}).catch(s=>{i(`Error fetching exercise details: ${s}`,"Error âŒ")})}const re=e=>{const t=Math.round(e),s=Array(t).fill('<svg class="icon-star"><use href="./img/icons/icons.svg#icon-star"></use></svg>'),o=Array(5-t).fill('<svg class="icon-star"><use href="./img/icons/icons.svg#icon-star-empty"></use></svg>');return`
    ${s.join("")}
    ${o.join("")}
  `};function ae(e){const t=document.querySelector(".modal-title"),s=document.querySelector(".modal-image"),o=document.querySelector(".modal-target"),n=document.querySelector(".modal-bodyPart"),r=document.querySelector(".modal-equipment"),a=document.querySelector(".modal-calories"),c=document.querySelector(".modal__description"),l=document.querySelector(".modal__block"),p=document.querySelector(".modal__rating");l.setAttribute("data-id",e._id),t.textContent=e.name||"No name available",s.src=e.gifUrl||"",s.alt=e.name||"Exercise image",o.textContent=e.target||"No target available",n.textContent=e.bodyPart||"No body part available",r.textContent=e.equipment||"No equipment available",a.textContent=`${e.burnedCalories||"N/A"}`,c.textContent=e.description||"No description available",p.innerHTML=`
    <span>${e.rating}</span>
    <span>${re(e.rating)}</span>
  `;const H=document.querySelector(".modal__btns"),$=(JSON.parse(localStorage.getItem("favorites"))||[]).find(S=>S._id===e._id);H.innerHTML=`
    <button class="favorites-btn">${$?"Remove":"Add to favorites"}</button>
<!--    <button class="rating-btn">Give a rating</button>-->
  `;const U=document.querySelector(".favorites-btn"),Q=document.getElementById("favorites");U.addEventListener("click",function(){if($){const S=Q?I:void 0;B(e._id,S)}else Z(e);E()})}function ie(){const e=document.querySelector(".modal");e?e.classList.add("is-visible"):i("Modal element is missing.","Error âŒ")}function E(){const e=document.querySelector(".modal");e?e.classList.remove("is-visible"):i("Modal element is missing.","Error âŒ")}const P=document.querySelector(".modal-close");P&&P.addEventListener("click",E);document.addEventListener("click",e=>{const t=document.querySelector(".modal"),s=document.querySelector(".modal__block");t&&s&&t.classList.contains("is-visible")&&!s.contains(e.target)&&E()});document.addEventListener("keydown",e=>{e.key==="Escape"&&E()});const M=document.querySelector(".subscribe-form");M.addEventListener("submit",ce);async function ce(e){e.preventDefault();const t=e.target.elements.email.value;try{await ee.addSubscription({email:t}),i("You have subscribed ðŸ¥³","Congratulations!","#f4f4f4")}catch{i("Subscription already exists ðŸ˜Š","","#c6cdd1")}finally{e.target.reset(),localStorage.removeItem("subscribe-form-email")}}const L={email:""},le=e=>{const t=JSON.parse(localStorage.getItem("subscribe-form-email"));if(t!==null)for(const s in t)t.hasOwnProperty(s)&&(e.elements[s].value=t[s],L[s]=t[s])};le(M);M.addEventListener("input",e=>{const t=e.target.name,s=e.target.value.trim();L[t]=s,localStorage.setItem("subscribe-form-email",JSON.stringify(L))});(()=>{let e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),o=[...document.getElementsByClassName("mobile-menu-link")],n=()=>{let a=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!a),e.classList.toggle("is-open"),document.body.style.overflow=a?"auto":"hidden"};const r=()=>{window.matchMedia("(max-width: 767px)").matches?(t.addEventListener("click",n),s.addEventListener("click",n),o.forEach(a=>{a.addEventListener("click",n)})):(t.removeEventListener("click",n),s.removeEventListener("click",n),o.forEach(a=>{a.removeEventListener("click",n)}),e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))};window.addEventListener("resize",r),r()})();const de=()=>{document.querySelector(".preloader").classList.add("preloader--hidden")};document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{de()},500)});let y=document.getElementById("myBtn");document.getElementsByClassName(".footer");y&&(y.onclick=function(){me()});window.onscroll=function(){ue()};function ue(){document.body.scrollTop>20||document.documentElement.scrollTop>20?y.style.display="block":y.style.display="none"}function me(){document.body.scrollTop=0,document.documentElement.scrollTop=0}
//# sourceMappingURL=main-Bdo0joZJ.js.map
